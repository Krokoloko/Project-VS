[gd_scene load_steps=22 format=2]

[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Songs/CrescentMoon.mp3" type="AudioStream" id=1]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Materials/CrescentMoon/CrescentMoon_Floor.material" type="Material" id=2]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Materials/CrescentMoon/PASSTHROUGH_PLATFORM.jpg" type="Texture" id=3]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Materials/CrescentMoon/background.png" type="Texture" id=4]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Materials/CrescentMoon/CrescentMoon_Skybox.tres" type="Material" id=5]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/Materials/CrescentMoon/Passthrough_Platform_Side.jpg" type="Texture" id=6]
[ext_resource path="res://Assets/Gamemode/Deathzone/DeathzoneRespawnSystem.cs" type="Script" id=7]
[ext_resource path="res://Assets/UI/PlayerInfo/PlayerInfo.tscn" type="PackedScene" id=8]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Maps/CrescentMoonMap.tres" type="Resource" id=9]
[ext_resource path="res://Assets/Gamemode/Multiplayer/Scripts/MultiplayerGamemode.cs" type="Script" id=10]
[ext_resource path="res://Assets/UI/Buttons/ButtonRestartLevel.cs" type="Script" id=11]
[ext_resource path="res://Assets/UI/Buttons/ButtonTransition.cs" type="Script" id=12]
[ext_resource path="res://Assets/UI/0_2-HalloweenupdateOkt2024.png" type="Texture" id=13]

[sub_resource type="BoxShape" id=7]
extents = Vector3( 33.7448, 1, 1 )

[sub_resource type="BoxShape" id=8]
extents = Vector3( 1, 22.55, 1 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 3.71394, 1.32218, 1 )

[sub_resource type="SpatialMaterial" id=4]
albedo_texture = ExtResource( 3 )

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1.8015, 0.0705557, 1 )

[sub_resource type="SpatialMaterial" id=5]
albedo_texture = ExtResource( 3 )

[sub_resource type="SpatialMaterial" id=6]
albedo_texture = ExtResource( 3 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 2.36147, 0.0719333, 1 )

[node name="Spatial" type="Spatial"]
script = ExtResource( 10 )
win_state_UI_path = NodePath("UI")
win_label_path = NodePath("UI/Control/Win Label Text")
player_container_path = NodePath("PlayerContainer")

[node name="PlayerContainer" type="Node" parent="."]

[node name="Background" type="Spatial" parent="."]

[node name="Sprite3D" type="Sprite3D" parent="Background"]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 1, 0, 4.7226, -10.4323 )
texture = ExtResource( 4 )

[node name="CSGBox" type="CSGBox" parent="Background"]
transform = Transform( 1.21756, 0, 0, 0, 1.21756, 0, 0, 0, 1, 0, 6.71459, -12.2807 )
width = 50.0
height = 30.0
material = ExtResource( 5 )

[node name="Deathzones" type="Spatial" parent="."]
script = ExtResource( 7 )
spawn_nodes = [ NodePath("Spatial"), NodePath("Spatial2") ]
deathzone_nodes = [ NodePath("Area"), NodePath("Area2"), NodePath("Area3"), NodePath("Area4") ]

[node name="Area" type="Area" parent="Deathzones"]
collision_layer = 63
collision_mask = 63

[node name="CollisionShape" type="CollisionShape" parent="Deathzones/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -12.3712, 0 )
shape = SubResource( 7 )

[node name="Area2" type="Area" parent="Deathzones"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 28.1047, 0 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape" type="CollisionShape" parent="Deathzones/Area2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.88756, 0 )
shape = SubResource( 7 )

[node name="Area3" type="Area" parent="Deathzones"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 16.0113, 0 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape" type="CollisionShape" parent="Deathzones/Area3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 32.677, -9.43785, 0 )
shape = SubResource( 8 )

[node name="Area4" type="Area" parent="Deathzones"]
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2" type="CollisionShape" parent="Deathzones/Area4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -32.607, 6.57349, 0 )
shape = SubResource( 8 )

[node name="Spatial" type="Spatial" parent="Deathzones"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.383, 12.728, 0 )

[node name="Spatial2" type="Spatial" parent="Deathzones"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.38288, 12.7278, 0 )

[node name="Stage" type="Spatial" parent="."]
transform = Transform( 2.20703, 0, 0, 0, 2.20703, 0, 0, 0, 1, 0, 0, 0 )

[node name="MainPlatform" type="CSGBox" parent="Stage"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.930688, 0 )
width = 7.43734
height = 2.6694
material = ExtResource( 2 )

[node name="StaticBody" type="StaticBody" parent="Stage/MainPlatform"]

[node name="CollisionShape" type="CollisionShape" parent="Stage/MainPlatform/StaticBody"]
shape = SubResource( 3 )

[node name="CSGBox" type="CSGBox" parent="Stage"]
transform = Transform( 1, 0, 0, 0, 1.52948, 0, 0, 0, 1, 5.52217, 0.294563, 0 )
width = 3.61078
height = 0.142484
material = SubResource( 4 )

[node name="StaticBody" type="StaticBody" parent="Stage/CSGBox"]
collision_layer = 65536
collision_mask = 65536

[node name="CollisionShape" type="CollisionShape" parent="Stage/CSGBox/StaticBody"]
shape = SubResource( 1 )

[node name="Sprite3D" type="Sprite3D" parent="Stage/CSGBox"]
transform = Transform( 0.126699, 0, 0, 0, 0.1, 0, 0, 0, 1, -0.0218291, -0.101582, 1.09265 )
texture = ExtResource( 6 )

[node name="CSGBox2" type="CSGBox" parent="Stage"]
transform = Transform( 1, 0, 0, 0, 1.52948, 0, 0, 0, 1, -5.50601, 0.294563, 0 )
width = 3.61078
height = 0.142484
material = SubResource( 5 )

[node name="StaticBody" type="StaticBody" parent="Stage/CSGBox2"]
collision_layer = 65536
collision_mask = 65536

[node name="CollisionShape" type="CollisionShape" parent="Stage/CSGBox2/StaticBody"]
shape = SubResource( 1 )

[node name="Sprite3D" type="Sprite3D" parent="Stage/CSGBox2"]
transform = Transform( 0.126699, 0, 0, 0, 0.1, 0, 0, 0, 1, -0.0218291, -0.101582, 1.09265 )
texture = ExtResource( 6 )

[node name="CSGBox3" type="CSGBox" parent="Stage"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00992769, 2.67516, 0 )
width = 4.73476
height = 0.3
material = SubResource( 6 )

[node name="StaticBody" type="StaticBody" parent="Stage/CSGBox3"]
collision_layer = 65536
collision_mask = 65536

[node name="CollisionShape" type="CollisionShape" parent="Stage/CSGBox3/StaticBody"]
shape = SubResource( 2 )

[node name="Sprite3D" type="Sprite3D" parent="Stage/CSGBox3"]
transform = Transform( 0.171382, 0, 0, 0, 0.1, 0, 0, 0, 1, -0.0218291, -0.0201023, 1.09265 )
texture = ExtResource( 6 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.24852, 31.0698 )
keep_aspect = 0
far = 500.0

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2( 532, 305 )
stream = ExtResource( 1 )
volume_db = -17.0
autoplay = true

[node name="Player Info" parent="." instance=ExtResource( 8 )]
margin_left = 161.0
margin_top = 428.0
margin_right = 350.0
margin_bottom = 600.0
player_container = NodePath("../PlayerContainer")

[node name="Player Info2" parent="." instance=ExtResource( 8 )]
margin_left = 662.0
margin_top = 428.0
margin_right = 851.0
margin_bottom = 600.0
player_id = 1
player_container = NodePath("../PlayerContainer")

[node name="UI" type="ViewportContainer" parent="."]
margin_right = 1027.0
margin_bottom = 597.0
stretch = true

[node name="WinScreen" type="Control" parent="UI"]
margin_right = 40.0
margin_bottom = 40.0

[node name="Label" type="Label" parent="UI/WinScreen"]
margin_left = 400.0
margin_top = 500.0
margin_right = 541.0
margin_bottom = 514.0
rect_scale = Vector2( 2, 2 )
custom_colors/font_color = Color( 0.996078, 0.745098, 0, 1 )
text = "You Earned +5 Coins!!!"
align = 1

[node name="HBoxContainer" type="HBoxContainer" parent="UI"]
anchor_left = 0.391
anchor_top = 0.721
anchor_right = 0.391
anchor_bottom = 0.721
margin_right = 40.0
margin_bottom = 40.0

[node name="Button" type="Button" parent="UI/HBoxContainer"]
margin_right = 83.0
margin_bottom = 40.0
focus_neighbour_left = NodePath("../Button3")
focus_neighbour_right = NodePath("../Button2")
text = "Main Menu"
script = ExtResource( 12 )
scene_file = "res://Assets/UI/StartMenu/StartMenuScene.tscn"
scene_root = NodePath("../../..")

[node name="Button2" type="Button" parent="UI/HBoxContainer"]
margin_left = 87.0
margin_right = 164.0
margin_bottom = 40.0
focus_neighbour_left = NodePath("../Button")
focus_neighbour_right = NodePath("../Button3")
text = "Play Again"
script = ExtResource( 11 )
level = ExtResource( 9 )
players_nodepath = NodePath("../../../PlayerContainer")
scene_root = NodePath("../../..")

[node name="Button3" type="Button" parent="UI/HBoxContainer"]
margin_left = 168.0
margin_right = 283.0
margin_bottom = 40.0
focus_neighbour_left = NodePath("../Button2")
focus_neighbour_right = NodePath("../Button")
text = "Select Character"
script = ExtResource( 12 )
scene_file = "res://Assets/UI/CharacterSelectScreen/CharacterSelectScene.tscn"
scene_root = NodePath("../../..")

[node name="Control" type="Control" parent="UI"]
margin_right = 40.0
margin_bottom = 40.0

[node name="Win Label Text" type="Label" parent="UI/Control"]
margin_left = 304.0
margin_top = 104.0
margin_right = 406.0
margin_bottom = 118.0
rect_scale = Vector2( 5, 5 )
text = "Player 1 WINS!!!"

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform( 0.177165, 0, 0, 0, 0.177165, 0, 0, 0, 1, -10.8988, 2.90397, -0.938097 )
texture = ExtResource( 13 )
